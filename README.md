# ExpenseTrackerBot - Бот для записей расходов и доходов с использованием информационной системы

Этот Telegram бот разработан с использованием библиотеки aiogram и предназначен для записей доходов и расходов пользователя, а также для хранения истории всех его финансовых операций.

## Используемые технологии

Для хранения, записи и извлечения информации бот подключен к базе данных с помощью библиотеки sqlite3. В базе данных есть две таблицы:

- records - предназначена для хранения и записи информации о доходах и расходах от пользователя. Структура таблицы выглядит следующим образом:

![image](https://github.com/MilaEgoshina/expense-tracker-bot/assets/96314768/16561bcf-288e-4e84-81d6-dc1018b73e0c)

- users - предназначена для хранения информаци о пользователях и добавления информации о новых пользователях. Структура таблицы выглядит следующим образом:

![image](https://github.com/MilaEgoshina/expense-tracker-bot/assets/96314768/b80af99c-28eb-4e83-a860-ed2f6ae581ed)

Ссылка на ТГ - бот : https://t.me/movie_select_bot

## Функционал бота

Для пользователя доступны следующие команды:

- /spend + сумма - для записи потраченной суммы.
- /earned + сумма - для записи нового дохода.
- /history - выводит всю историю финансовых операций пользователя.

## Как работают команды

### Команда spend/earned

С помощью функции record в модуле personal_actions мы считываем операцию, которую пользователь ввел, определяем, что мы должны записать в базу данных (расход (-) или доход (+)), а также считываем сумму дохода или расхода.

![image](https://github.com/MilaEgoshina/expense-tracker-bot/assets/96314768/83d4c184-34e8-4123-ac7f-790bf5f8f4ce)


И с помощью функции `def add_record` в модуле db(database) мы уже записываем все данные от пользователя в базу данных:

![image](https://github.com/MilaEgoshina/expense-tracker-bot/assets/96314768/0e0fd467-4760-4251-9e6e-f22fe1904b29)


### Команда history

С помощью функции history в модуле personal_actions мы считываем за какой период пользователю необходимо вывести всю историю по расходам и доходам. Если пользователь не ввел конкретный период, то выводим историю за текущий день. Далее, с помощью функции get_records в модуле db, обращаемся к базе данных и выводим пользователю историю операций за выбранный или текущий период.

![image](https://github.com/MilaEgoshina/expense-tracker-bot/assets/96314768/1c24da48-703d-4d10-8332-c3cdf65f1b04)

